<div wm-slider>


    <p>
        <img src="http://files.cod3r.com.br/curso-web/imagem1.jpg" alt="Muro da Cidade" width="513" height="324"
            title="Muro da cidade">

    </p>

    <p>
        <img src="http://files.cod3r.com.br/curso-web/imagem2.gif" alt="intro coder" width="513" height="324">



    </p>

    <p class="circular">
        <img src="http://files.cod3r.com.br/curso-web/imagem3.png" alt="rio de janeiro" width="513" height="324">



    </p>

    <p class="texto">
        <img src="http://files.cod3r.com.br/curso-web/avatar.jpg" alt="avatar" height="50" align="left">
        jsbdkjshgaiashdbkashdaksdhlbkvcpbjkpcv
        xckvnxcjlkvnxclvnlcxnvlxcvnxlc√ßvxcnvxlc
        xjcvnxcijvnxcikvnxcvnxicjvijnxc



    </p>
    <p class="cidade"></p>

    <p>

        <picture>
            <source srcset="http://files.cod3r.com.br/curso-web/logo-larga.png" media="(min-width:600px)">
            <img src="http://files.cod3r.com.br/curso-web/logo-estreita.png" alt="logo">


        </picture>


    </p>
</div>

<style>
    p {

        position: absolute;
        display: none;

    }

    .circular {
        width: 513px;
        background-color: #4444;

    }

    .texto {

        width: 400px;

    }

    .texto img {

        margin-right: 10px;
    }

    .cidade {
        width: 513px;
        height: 342px;
        background-image: url('/html/assets/imagem4.jpg');
        background-position: center;
        background-repeat: no-repeat;
        background-size: 200%;

    }
</style>

<script>
    //funcao mover recebe a foto o inicio o fim e o passo e uma funcao callback(notifica quando o elemento terminou o movimento) 
    function mover(elem, inicio, fim, passo, callback) {
        //contador para mover pegando valor da largura e ir diminuindo com o passo a passo
        const novoInicio = inicio - passo
        //condicao para continuar caminhando 
        if (novoInicio >= fim) {
            //a imagem recebe a nova posicao  em pixels
            elem.style.left = novoInicio + 'px'
            //temporizador para mover a imagem de 5 em 5 pixels
            setTimeout(() => mover(elem, novoInicio, fim, passo, callback), 10)
        } else {

            callback()

        }


    }
    // const p = document.querySelector('[wm-slider] > p')
    //p.style.display = 'block'
    // mover(p, 1500, -500, 5, () => {

    //   console.log('Terminou!!')

    //})
    function slider() {
            //elementos esta recebendo os paragrafos p da div com propriedade wm-slider armazenando em um nodelist
        const elementos = document.querySelectorAll('[wm-slider] > p')
        //convertendo nodelist em array
        const slides = Array.from(elementos)
       //chama funcao exibir slides e passa os elementos e sua posicao inicial
        exibirSlide(slides, slides[0])

    }
    //declaracao da funcao e recebendo parametros
    function exibirSlide(slides, slide) {
        //muda a propriedade display do elemento para visivel
        slide.style.display = 'block'
        //a posicao inicial recebe a largura interna da janela em px
        const inicio = innerWidth
        //a posicao final recebe a valor menor que a largura  da janela em px para sair do campo de visao
        const fim = -slide.clientWidth
        //o elemento slide recebe a posicao da largura em px da janela interna
        slide.style.left = `${inicio}px`
        //funcao para mover os elementos(paramentos) valor 5 e a variacao
        mover(slide, inicio, fim, 10, () => {
            //chama exibir slide recursivamento recebendo a funcao getProximo
            exibirSlide(slides,getProximo (slides, slide))
        })

    }
    //funcao para chamar o proximo elemento do array
    function getProximo(lista, atual) {
        //criando contador recebendo o primeiro elemento da lista +1
        const i = lista.indexOf(atual) + 1
        
        //enquanto i for menor que o tamanho da lista, a posicao ira receber o valor de i,
        //quando i for maior que lista[i], a lista ira receber a posicao inicial
        return i< lista.length ? lista[i] : lista[0]

    }
    slider()

</script>
